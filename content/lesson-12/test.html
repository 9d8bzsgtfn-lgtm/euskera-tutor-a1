<h3>Azken Azterketa: A1 Maila - Test Final</h3>

<div class="box-imprescindible">
    <span class="tag tag-imprescindible">A1 AZKEN AZTERKETA</span>
    <p><strong>Test final del nivel A1 de euskera.</strong> Este examen evalua todo lo aprendido durante el curso.</p>
    <p>A1 mailako azken azterketa. Azterketa honek kurtso osoan ikasitako guztia ebaluatzen du.</p>
    <p><strong>20 galdera - 40 puntu - Gainditzeko: 28 puntu (%70)</strong></p>
</div>

<h4>Zatia A: Kasuak eta Deklinabidea (10 puntu)</h4>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>1. Emakume______ etorri da. (La mujer ha venido.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="true">-a</div>
        <div class="exercise-option" data-correct="false">-ak</div>
        <div class="exercise-option" data-correct="false">-ari</div>
        <div class="exercise-option" data-correct="false">-an</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>2. Mutil______ sagarra jan du. (El chico ha comido la manzana.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">-a</div>
        <div class="exercise-option" data-correct="true">-ak</div>
        <div class="exercise-option" data-correct="false">-ari</div>
        <div class="exercise-option" data-correct="false">-aren</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>3. Ait______ oparia eman diot. (Le he dado el regalo a papa.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">-a</div>
        <div class="exercise-option" data-correct="false">-ak</div>
        <div class="exercise-option" data-correct="true">-ari</div>
        <div class="exercise-option" data-correct="false">-an</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>4. Unibertsitate______ ikasten dut. (Estudio en la universidad.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">-a</div>
        <div class="exercise-option" data-correct="false">-ra</div>
        <div class="exercise-option" data-correct="true">-an</div>
        <div class="exercise-option" data-correct="false">-tik</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>5. Donostia______ nator. (Vengo de San Sebastian.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">-n</div>
        <div class="exercise-option" data-correct="false">-ra</div>
        <div class="exercise-option" data-correct="false">-ko</div>
        <div class="exercise-option" data-correct="true">-tik</div>
    </div>
</div>

<h4>Zatia B: Aditz Laguntzaileak (10 puntu)</h4>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>6. Gu ikasleak ______. (Nosotros somos estudiantes.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">naiz</div>
        <div class="exercise-option" data-correct="false">da</div>
        <div class="exercise-option" data-correct="true">gara</div>
        <div class="exercise-option" data-correct="false">dira</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>7. Haiek atzo hemen ______. (Ellos estaban aqui ayer.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">dira</div>
        <div class="exercise-option" data-correct="true">ziren</div>
        <div class="exercise-option" data-correct="false">daude</div>
        <div class="exercise-option" data-correct="false">zeuden</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>8. Zuk liburu asko ______. (Tu tienes muchos libros.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">dut</div>
        <div class="exercise-option" data-correct="true">dituzu</div>
        <div class="exercise-option" data-correct="false">du</div>
        <div class="exercise-option" data-correct="false">dugu</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>9. Atzo nik pelikula ______ (ikusi). (Ayer vi una pelicula.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">ikusten dut</div>
        <div class="exercise-option" data-correct="true">ikusi nuen</div>
        <div class="exercise-option" data-correct="false">ikusiko dut</div>
        <div class="exercise-option" data-correct="false">ikusi dut</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>10. Bihar Madrilera ______ (joan). (Manana ire a Madrid.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">joaten naiz</div>
        <div class="exercise-option" data-correct="false">joan nintzen</div>
        <div class="exercise-option" data-correct="true">joango naiz</div>
        <div class="exercise-option" data-correct="false">joan naiz</div>
    </div>
</div>

<h4>Zatia C: Hiztegia eta Esaldiak (10 puntu)</h4>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>11. Nola esaten da "buenos dias" euskaraz?</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="true">Egun on</div>
        <div class="exercise-option" data-correct="false">Gabon</div>
        <div class="exercise-option" data-correct="false">Arratsalde on</div>
        <div class="exercise-option" data-correct="false">Kaixo</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>12. "Zenbat balio du?" zer esan nahi du?</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">Donde esta?</div>
        <div class="exercise-option" data-correct="true">Cuanto cuesta?</div>
        <div class="exercise-option" data-correct="false">Que es esto?</div>
        <div class="exercise-option" data-correct="false">Como te llamas?</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>13. Nola esaten da "padre" eta "madre" euskaraz?</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">semea eta alaba</div>
        <div class="exercise-option" data-correct="false">anaia eta arreba</div>
        <div class="exercise-option" data-correct="true">aita eta ama</div>
        <div class="exercise-option" data-correct="false">aitona eta amona</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>14. Zer da "jatetxea"?</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">Hospital</div>
        <div class="exercise-option" data-correct="false">Escuela</div>
        <div class="exercise-option" data-correct="true">Restaurante</div>
        <div class="exercise-option" data-correct="false">Oficina</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>15. Zein da zuzena? "Esta lloviendo"</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">Eguzkia dago</div>
        <div class="exercise-option" data-correct="true">Euria ari du</div>
        <div class="exercise-option" data-correct="false">Hotza dago</div>
        <div class="exercise-option" data-correct="false">Beroa dago</div>
    </div>
</div>

<h4>Zatia D: Egiturak eta Perpausak (10 puntu)</h4>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>16. Etxean nago gaixorik ______. (Estoy en casa porque estoy enfermo.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">naizela</div>
        <div class="exercise-option" data-correct="true">naizelako</div>
        <div class="exercise-option" data-correct="false">naizen</div>
        <div class="exercise-option" data-correct="false">naiz</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>17. Badakit euskaraz hitz egiten ______. (Se que habla euskera.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">du</div>
        <div class="exercise-option" data-correct="true">duela</div>
        <div class="exercise-option" data-correct="false">duelako</div>
        <div class="exercise-option" data-correct="false">duen</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>18. Euskara ikasi ______ dut. (Quiero aprender euskera.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="true">nahi</div>
        <div class="exercise-option" data-correct="false">behar</div>
        <div class="exercise-option" data-correct="false">ahal</div>
        <div class="exercise-option" data-correct="false">ari</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>19. Medikuarengana joan ______ dut. (Tengo que ir al medico.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">nahi</div>
        <div class="exercise-option" data-correct="true">behar</div>
        <div class="exercise-option" data-correct="false">ahal</div>
        <div class="exercise-option" data-correct="false">ari</div>
    </div>
</div>

<div class="exercise" data-points="2">
    <div class="exercise-question">
        <p>20. Orain lanean ______ naiz. (Ahora estoy trabajando.)</p>
    </div>
    <div class="exercise-options">
        <div class="exercise-option" data-correct="false">egiten</div>
        <div class="exercise-option" data-correct="true">ari</div>
        <div class="exercise-option" data-correct="false">nahi</div>
        <div class="exercise-option" data-correct="false">behar</div>
    </div>
</div>

<div class="box-importante">
    <span class="tag tag-importante">EMAITZAK - RESULTADOS</span>
    <div class="test-results" id="testResults">
        <div class="test-score" id="testScore">--/40</div>
        <p id="testFeedback">Completa todos los ejercicios para ver tu puntuacion final.</p>
        <div id="certificateMessage" style="display: none; margin-top: 20px; padding: 20px; border: 3px solid #4CAF50; border-radius: 10px; background-color: #e8f5e9;">
            <h4 style="color: #2e7d32; margin-bottom: 10px;">ZORIONAK! FELICIDADES!</h4>
            <p style="font-size: 1.1em;">Has completado con exito el <strong>Nivel A1 de Euskera</strong>.</p>
            <p>Orain euskaraz oinarrizko komunikazioa egin dezakezu!</p>
            <p>Ahora puedes comunicarte en euskera a nivel basico!</p>
        </div>
        <div id="retryMessage" style="display: none; margin-top: 20px; padding: 15px; border: 2px solid #ff9800; border-radius: 8px; background-color: #fff3e0;">
            <h4 style="color: #e65100;">Saiatu berriro - Intentalo de nuevo</h4>
            <p>Repasa las lecciones anteriores y vuelve a intentar el test.</p>
            <p>Aurreko ikasgaiak berrikusi eta saiatu berriro azterketa egiten.</p>
        </div>
        <div id="nextLevelMessage" style="display: none; margin-top: 15px; padding: 15px; background-color: #e3f2fd; border-radius: 8px;">
            <h4 style="color: #1565c0;">Hurrengo urratsa - Siguiente paso: A2 Maila</h4>
            <p>En el nivel A2 aprenderas:</p>
            <ul>
                <li>Mas tiempos verbales (condicional, subjuntivo)</li>
                <li>Sistema NOR-NORI-NORK completo</li>
                <li>Subordinadas temporales y condicionales</li>
                <li>Vocabulario mas avanzado</li>
                <li>Conversaciones mas complejas</li>
            </ul>
            <p><strong>Jarraitu ikasten! Sigue aprendiendo!</strong></p>
        </div>
    </div>
</div>

<script>
// Calcular puntuacion cuando se completen todos los ejercicios
document.querySelectorAll('.exercise-option').forEach(option => {
    option.addEventListener('click', function() {
        // Marcar respuesta
        const exercise = this.closest('.exercise');
        exercise.querySelectorAll('.exercise-option').forEach(opt => {
            opt.classList.remove('selected', 'correct', 'incorrect');
        });
        this.classList.add('selected');
        if (this.dataset.correct === 'true') {
            this.classList.add('correct');
        } else {
            this.classList.add('incorrect');
        }

        // Calcular puntuacion total
        let totalPoints = 0;
        let earnedPoints = 0;
        let answeredQuestions = 0;
        document.querySelectorAll('.exercise').forEach(ex => {
            const points = parseInt(ex.dataset.points) || 2;
            totalPoints += points;
            const selected = ex.querySelector('.exercise-option.selected');
            if (selected) {
                answeredQuestions++;
                if (selected.dataset.correct === 'true') {
                    earnedPoints += points;
                }
            }
        });

        // Mostrar resultado
        const scoreEl = document.getElementById('testScore');
        const feedbackEl = document.getElementById('testFeedback');
        const certificateMsg = document.getElementById('certificateMessage');
        const retryMsg = document.getElementById('retryMessage');
        const nextLevelMsg = document.getElementById('nextLevelMessage');

        if (scoreEl) {
            scoreEl.textContent = earnedPoints + '/40';
            const percentage = (earnedPoints / 40) * 100;

            // Ocultar todos los mensajes primero
            certificateMsg.style.display = 'none';
            retryMsg.style.display = 'none';
            nextLevelMsg.style.display = 'none';

            if (answeredQuestions === 20) { // Todas las preguntas contestadas
                if (percentage >= 90) {
                    scoreEl.className = 'test-score excellent';
                    feedbackEl.innerHTML = '<strong>BIKAIN! EXCELENTE!</strong><br>Has dominado el nivel A1 de euskera con nota sobresaliente.';
                    certificateMsg.style.display = 'block';
                    nextLevelMsg.style.display = 'block';
                } else if (percentage >= 70) {
                    scoreEl.className = 'test-score good';
                    feedbackEl.innerHTML = '<strong>OSO ONDO! MUY BIEN!</strong><br>Has aprobado el nivel A1. Zorionak!';
                    certificateMsg.style.display = 'block';
                    nextLevelMsg.style.display = 'block';
                } else if (percentage >= 50) {
                    scoreEl.className = 'test-score needs-work';
                    feedbackEl.innerHTML = '<strong>NAHIKOA - SUFICIENTE</strong><br>Casi lo consigues. Repasa un poco mas y vuelve a intentarlo.';
                    retryMsg.style.display = 'block';
                } else {
                    scoreEl.className = 'test-score poor';
                    feedbackEl.innerHTML = '<strong>BERRIKUSI BEHAR - NECESITAS REPASAR</strong><br>Repasa las lecciones anteriores con calma.';
                    retryMsg.style.display = 'block';
                }
            } else {
                feedbackEl.textContent = 'Erantzun galdera guztiak (' + answeredQuestions + '/20). Contesta todas las preguntas.';
            }
        }
    });
});
</script>

<div class="box-complementario">
    <span class="tag tag-complementario">ESKERRIK ASKO!</span>
    <p>Gracias por completar el curso de euskera A1. Esperamos que hayas disfrutado aprendiendo esta hermosa lengua.</p>
    <p>Mila esker A1 euskara kurtsoa osatzeagatik. Espero dugu hizkuntza eder hau ikasten gozatu izana.</p>
    <p><strong>Euskara bizirik! El euskera esta vivo!</strong></p>
</div>
